.SEGMENT "PRG17"

.INCLUDE "common.asm"

UNKNOWN_17A000:
	LDA #$00
	STA $DA
	STA $DB
	STA $52
	STA $59
	STA $49
	STA $4A
	STA $4B
	STA $4C
	STA $4D
	TAX
@UNKNOWN0:
	STA $0600,X
	INX
	BNE @UNKNOWN0
	LDX #$1F
@UNKNOWN1:
	STA $0580,X
	DEX
	BPL @UNKNOWN1
	LDA #$00
	STA $53
	LDX #$00
@UNKNOWN2:
	TXA
	PHA
	LDA $7408,X
	BEQ @UNKNOWN3
	JSR $A1DD
	CLC
	LDA $53
	ADC #$20
	STA $53
@UNKNOWN3:
	PLA
	TAX
	INX
	CPX #$04
	BNE @UNKNOWN2
	JSR $F479
	LDA #$80
	STA $53
	LDY #$00
@UNKNOWN4:
	LDA ($5C),Y
	STA $60
	INY
	LDA ($5C),Y
	STA $61
	INY
	TYA
	PHA
	LDA $60
	CMP #$FF
	BEQ @UNKNOWN5
	JSR $A22D
@UNKNOWN5:
	CLC
	LDA $53
	ADC #$20
	STA $53
	PLA
	TAY
	CPY #$08
	BNE @UNKNOWN4
	LDA ($5C),Y
	AND #$E0
	LDX #$05
@UNKNOWN6:
	LSR
	DEX
	BNE @UNKNOWN6
	STA $56
	LDA ($5C),Y
	AND #$1F
	STA $5A
	INY
	LDA ($5C),Y
	AND #$0F
	STA $60
	LDA #$00
	LDX #$05
@UNKNOWN7:
	ASL $60
	ROL
	DEX
	BNE @UNKNOWN7
	STA $61
	CLC
	LDA #$81
	ADC $60
	STA $60
	LDA #$8E
	ADC $61
	STA $61
	JSR $F247
	JSR $F496
	JSR $F239
	LDX #$23
	LDY #$C0
	JSR $A3D2
	LDX #$2B
	LDY #$C0
	JSR $A3D2
	JSR $F5E5
	LDA #$00
	STA $5B
	LDA #$80
	STA $53
@UNKNOWN8:
	LDX $53
	LDA $0600,X
	BEQ @UNKNOWN9
	JSR $A28A
@UNKNOWN9:
	INC $5B
	CLC
	LDA $53
	ADC #$20
	STA $53
	BCC @UNKNOWN8
	LDY #$00
	LDX #$00
@UNKNOWN10:
	LDA $0580,Y
	INY
	ORA $0580,Y
	STA $60
	INY
	LDA $0580,Y
	INY
	ORA $0580,Y
	ASL
	ASL
	ORA $60
	STA $60
	ASL
	ASL
	ASL
	ASL
	ORA $60
	STA $0580,X
	INY
	INX
	CPX #$08
	BNE @UNKNOWN10
	JSR $FD33
	LDA #$05
	STA $0400
	LDA #$10
	STA $0401
	LDY #$00
	LDX #$04
@UNKNOWN11:
	LDA $0580,Y
	STA $0400,X
	STA $0408,X
	INY
	INX
	CPY #$08
	BNE @UNKNOWN11
	LDA #$00
	STA $0408,X
	LDA #$80
	STA $E5
	LDA #$23
	STA $0402
	LDA #$D8
	STA $0403
	LDA #$00
	STA $E6
	LDA #$00
	STA $47
	STA $48
	LDX #$80
@UNKNOWN12:
	TXA
	PHA
	LDY #$04
@UNKNOWN13:
	LDA $0604,X
	AND #$03
	STA $0604,X
	INX
	INX
	DEY
	BNE @UNKNOWN13
	PLA
	CLC
	ADC #$20
	TAX
	BNE @UNKNOWN12
	LDX #$00
	LDA $56
	CMP #$01
	BNE @UNKNOWN14
	LDX #$04
	LDA #$FF
	STA $0683
	STA $0684
	LDA #$00
	STA $0620
	STA $0640
	STA $0660
@UNKNOWN14:
	STX $5B
	LDA $23
	BEQ @UNKNOWN16
	LDY #$00
	STY $56
@UNKNOWN15:
	LDA $061E,Y
	ORA #$04
	STA $061E,Y
	TYA
	CLC
	ADC #$20
	TAY
	BPL @UNKNOWN15
@UNKNOWN16:
	LDA $56
	CMP #$05
	BNE @UNKNOWN17
	LDA #$96
	STA $55
	LDA $060C
	STA $068C
@UNKNOWN17:
	LDX #$14
	JSR $F25E
	JSR $F74C
	LDA #$00
	JSR $F4CE
	JSR $AC6A
	BCS @UNKNOWN18
	LDX #$14
	JSR $F25E
	LDA #$07
	JSR $F4CE
	LDA #$00
	STA $52
	JSR $ECFF
	JSR $F765
	JSR $A50A
	JSR $F760
	LDA #$03
	JSR $F4CE
	JSR $ECFC
	JMP $A1A4
@UNKNOWN18:
	JSR $F759
	LDA #$00
	STA $DA
	STA $DB
	RTS
